"use strict";var __awaiter=this&&this.__awaiter||function(e,t,i,d){return new(i||(i=Promise))(function(n,a){function l(e){try{s(d.next(e))}catch(e){a(e)}}function _(e){try{s(d.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(l,_)}s((d=d.apply(e,t||[])).next())})};let ids_str=document.getElementById("data").getAttribute("data-objects"),ids=ids_str.split(","),add_submit=document.getElementById("add_product_btn"),id_input=document.getElementById("product_id"),gender_input=document.getElementById("gender_input"),category_input=document.getElementById("category_input"),product_des_input=document.getElementById("product_des"),size_input=document.getElementById("size_input"),taken_id=document.getElementById("taken_id"),invalid_gender=document.getElementById("invalid_gender"),invalid_category=document.getElementById("invalid_category"),invalid_des=document.getElementById("invalid_des"),invalid_size=document.getElementById("invalid_size"),valid_id=!1,valid_cat=!1,valid_gender=!1,valid_des=!1,valid_size=!1,search_btn=document.getElementById("search_id"),find_id_input=document.getElementById("find_id_input"),id_not_found=document.getElementById("id_not_found");const get_products=e=>__awaiter(void 0,void 0,void 0,function*(){let t=yield fetch(e,{method:"POST"}),i=yield t.json();id_input.onblur=(()=>{for(let e=0;e<i.length;e++){if(i[e].product_id==id_input.value){taken_id.classList.remove("d-none"),valid_id=!1;break}valid_id=!0,taken_id.classList.add("d-none")}}),search_btn.addEventListener("click",e=>{for(let e=0;e<i.length;e++){if(console.log(i[e].product_id),console.log(find_id_input.value),i[e].product_id==find_id_input.value){id_not_found.classList.add("d-none"),window.location.href=`/settings/${find_id_input.value}`;break}id_not_found.classList.remove("d-none")}})});get_products("/settings"),gender_input.onblur=(()=>{"male"==gender_input.value||"female"==gender_input.value||"kids"==gender_input.value?(invalid_gender.classList.add("d-none"),valid_gender=!0):(valid_gender=!1,invalid_gender.classList.remove("d-none"))}),category_input.onblur=(()=>{"shoes"==category_input.value||"clothes"==category_input.value?(invalid_category.classList.add("d-none"),valid_cat=!0):(valid_cat=!1,invalid_category.classList.remove("d-none"))}),product_des_input.onblur=(()=>{product_des_input.value.split(" ").length<7?(invalid_des.classList.remove("d-none"),valid_des=!1):(invalid_des.classList.add("d-none"),valid_des=!0)}),size_input.onblur=(()=>{"U22"==size_input.value||"kids"==size_input.value||"adult"==size_input.value||"u22"==size_input.value?(invalid_size.classList.add("d-none"),valid_size=!0):(invalid_size.classList.remove("d-none"),valid_size=!1)});let visits_input=document.getElementById("visits_input");add_submit.addEventListener("click",e=>{visits_input.value=0,"u22"==size_input.value&&(size_input.value="U22"),valid_id&&valid_cat&&valid_gender&&valid_des&&valid_size||e.preventDefault()});